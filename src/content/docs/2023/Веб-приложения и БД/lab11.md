---
title: "HTMX"
description: "HTMX"
sidebar:
  order: 12
---

**Цель**: познакомиться с библиотекой HTMX для расширения возможностей HTML по взаимодействию с сервером с помощью специальных атрибутов.

## Содержание и порядок выполнения лабораторной работы:

1. Изучить документацию библиотеки htmx, основные атрибуты и примеры использования.
1. Продолжить работу на ветке предыдущей работы.
1. Скачать минифицированный javascript файл библиотеки и добавить его в папку статических файлов вашего проекта. Настроить сервер, чтобы он мог возвращать его по запросу.
1. Обновить index.html таким образом чтобы в header были ссылки войты и зарегистрироваться или выйти.
1. В футере укажите ваши ФИО и группу.
1. Если пользователь не авторизован на добавление, удаление и редактирование комментариев, то в основной части страницы отобразите только список комментариев с возможностью [бесконечной прокрутки](https://htmx.org/examples/infinite-scroll/).
1. Если пользователь авторизован - добавьте приветствие по имени пользователя; перед комментариями добавьте форму для добавления нового комментария; ниже также добавьте список комментариев с бесконечной прокруткой, но для комментариев, которые сделаны данным пользователем добавьте возможность редактировать или удалять комментарий.
1. Чтобы это реализовать проверяйте в заголовках наличие `HX-Request: true`, если он присутствует, то отправляйте ответ в виде `text/html`.
1. Используйте возможности htmx для отправки запросов на удаление и редактирование комментариев.
1. Со страницы регистрации, добавьте перенаправление на страницу входа, а после успешной аутентификации, сделайте перенаправление на главную страницу. Это делается за счет отправки ответа со статусом 303 и заголовком `Location` с указанием пути будущего запроса ([Redirections in HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections)).
1. Добавьте или преобразуйте ответы таким образом чтобы они возвращали фрагменты html. Так как у вас есть template engine, то вы можете фрагменты вынести в отдельные файлы и необходимую информацию подставлять с помощью вашего решения.
1. Не забудьте про санитизацию данных перед отправкой клиенту.
1. Провести ручное тестирование в браузере.
1. Отформатировать документы.
1. Убедиться, что нет замечаний от ESLint.
1. Зафиксировать результаты работы с помощью системы контроля версий git на github.

## Требования к коду:

HTML код валиден.
Отсутствуют ошибки в wave.webaim.org и lighthouse по критерию доступности.
Отсутствуют ошибки ESLint в панели Problems в VS Code.
Отсутствуют ошибки в консоли браузера при работе с веб-страницей.
Отсутствуют анонимные функции при использовании метода .addEventListener().

## Результаты выполнения лабораторной работы:

Работающий локально сервер с логикой, которая соответствует требованиям. Код отформатирован, не содержит ошибок и замечаний от статического анализа кода ESLint, сохранен в системе контроля версий.

## Источники

- [Официальная документация](https://htmx.org/)
- [Анатомия htmx](https://habr.com/ru/companies/timeweb/articles/799555/)
- [Рендеринг на сервере и HTMX — это будущее](https://habr.com/ru/companies/ruvds/articles/736754/)
- [Redirections in HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections)
- [AJAX](https://developer.mozilla.org/ru/docs/Glossary/AJAX)
- [Примеры HTMX](https://htmx.org/examples/)
- [Полезные материалы о REST, приложениях и гипермедиа](https://htmx.org/essays/)
- [FULL Introduction To HTMX Using Golang](https://www.youtube.com/watch?v=x7v6SNIgJpE)

## Вопросы для защиты

1. Принцип работы перенаправлений http.
1. Типы перенаправалений http.
1. Как для запросов на один URL и метод реализовать отправку данных в разных форматах?
1. Приведите примеры атрибутов и их значений из библиотеки htmx.
1. Что такое AJAX?