# Лабораторная работа №5

Знакомство с Node.JS

**Цель**: изучить основы работы с Node и npm.

## Содержание и порядок выполнения лабораторной работы:

1. Установить четную версию NodeJS с [официального сайта](https://nodejs.org/ru/).
1. Изучить npm и его основных команд: `init`, `install`, `run`
1. Изучить функцию require, модуль node:http
1. Инициализировать проект с помощью npm init.
1. Установить модуль [nodemon](https://nodemon.io/) **локально** как зависимость для **разработки** и добавить команду для его запуска в package.json.
1. Создать основной файл приложения и добавить команду "serve" для его запуска в package.json.
1. Добавить к проекту файл .gitignore в котором исключить папку node_modules и папки связанные с IDE.
1. С помощью модуля http создать сервер, который в консоль выводит сообщения:
   - о начале работы, ip и номер порта,
   - при открытии нового подключения к нему,
   - при получении любого запроса.
1. Обработать get-запрос на корневой путь и в ответе вернуть приветствие в виде простого текста.
1. Обработать post-запрос на `/comments` и в ответе вернуть обновленный список комментариев в формате json. Сами комментарии пусть хранятся в глобальной переменной.
1. Обработать get-запрос на `/stats` и в ответе вернуть небольшой фрагмент в виде html таблицы, где в одной колонке user-agent, а во второй количество запросов. Чтобы накапливать статистику, храните все запросы в виде глобального объекта, где ключ это user-agent, а значение количество, запросов.
1. В остальных случаях в ответе возвращать 400 Bad Request.
1. Зафиксировать результаты работы в системе контроля версий на github.
1. Для тестирования установить расширение REST Client. Можете использовать программу Postman или альтернативы. Если вы используете REST Client, то создайте файл `.http` и запишите в нем запросы и проверьте корректность ответов, выводов в консоль.

### Пример записи в файле `.http`

```
GET /users HTTP/1.1
Host: 127.0.0.1:3000

###

GET /users/2 HTTP/1.1
Host: 127.0.0.1:3000
```

## Результаты выполнения лабораторной работы:

Работающий локально сервер с логикой, которая соответствует требованиям. Код сохранен в системе контроля версий.

## Источники

1. [Официальный сайт Node](https://nodejs.org/en/)
1. [Введение в Node на английском](https://nodejs.dev/en/learn/)
1. [Введение в Node на русском](https://nodejsdev.ru/guides/)
1. [Руководство по Node на русском (PDF)](https://ruvds.com/img/other/ee86eb4f-db9f-48d3-8094-c76e14414678.pdf)
1. [Курс по Node](https://habr.com/ru/post/485294/)

## Вопросы для защиты

1. Что такое node.js
1. npm - назначение и основные команды
1. package.json - назначение и основные свойства
1. Польза от .gitignore
1. Способы проверки работоспособности сервера
1. Создание минимального сервера на node.js
1. Объекты запроса и ответа - свойства, методы
1. Получение данных из тела запроса.
